{
  "repo_root": "/Users/jaylenjohnson18/lenzo.ai/lenzo.ai",
  "env": {
    "MallocNanoZone": "0",
    "USER": "jaylenjohnson18",
    "COMMAND_MODE": "unix2003",
    "__CFBundleIdentifier": "com.todesktop.230313mzl4w4u92",
    "PATH": "/Users/jaylenjohnson18/lenzo.ai/venv/bin:/usr/local/bin:/usr/local/sbin:/Library/Frameworks/Python.framework/Versions/3.11/bin:/Library/Frameworks/Python.framework/Versions/3.9/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/opt/X11/bin:/Library/TeX/texbin:/Users/Videos/yt-dlp_macos:/Users/jaylenjohnson18/opt/anaconda3/bin:/Users/jaylenjohnson18/opt/anaconda3/condabin:/Users/jaylenjohnson18/.cursor/extensions/ms-python.debugpy-2025.10.0-darwin-x64/bundled/scripts/noConfigScripts",
    "LOGNAME": "jaylenjohnson18",
    "DISPLAY": "/private/tmp/com.apple.launchd.3yER1Ghi4z/org.xquartz:0",
    "SSH_AUTH_SOCK": "/private/tmp/com.apple.launchd.LoayDV0I6x/Listeners",
    "HOME": "/Users/jaylenjohnson18",
    "SHELL": "/bin/zsh",
    "TMPDIR": "/var/folders/r1/p23s81lx4cg1rh5r9mws8nxm0000gn/T/",
    "__CF_USER_TEXT_ENCODING": "0x1F5:0x0:0x0",
    "XPC_SERVICE_NAME": "0",
    "XPC_FLAGS": "0x0",
    "ORIGINAL_XDG_CURRENT_DESKTOP": "undefined",
    "CURSOR_TRACE_ID": "8275d35a103248aaaefa09ff9bb1c458",
    "SHLVL": "1",
    "PWD": "/Users/jaylenjohnson18/lenzo.ai/lenzo.ai",
    "OLDPWD": "/Users/jaylenjohnson18/lenzo.ai/lenzo.ai/pocketflow",
    "HOMEBREW_PREFIX": "/usr/local",
    "HOMEBREW_CELLAR": "/usr/local/Cellar",
    "HOMEBREW_REPOSITORY": "/usr/local/Homebrew",
    "INFOPATH": "/usr/local/share/info:/usr/local/share/info:",
    "CONDA_EXE": "/Users/jaylenjohnson18/opt/anaconda3/bin/conda",
    "_CE_M": "",
    "_CE_CONDA": "",
    "CONDA_PYTHON_EXE": "/Users/jaylenjohnson18/opt/anaconda3/bin/python",
    "CONDA_SHLVL": "1",
    "CONDA_PREFIX": "/Users/jaylenjohnson18/opt/anaconda3",
    "CONDA_DEFAULT_ENV": "base",
    "CONDA_PROMPT_MODIFIER": "(base) ",
    "TERM_PROGRAM": "vscode",
    "TERM_PROGRAM_VERSION": "1.5.11",
    "LANG": "en_US.UTF-8",
    "COLORTERM": "truecolor",
    "GIT_ASKPASS": "/Volumes/Cursor Installer/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass.sh",
    "VSCODE_GIT_ASKPASS_NODE": "/Volumes/Cursor Installer/Cursor.app/Contents/Frameworks/Cursor Helper (Plugin).app/Contents/MacOS/Cursor Helper (Plugin)",
    "VSCODE_GIT_ASKPASS_EXTRA_ARGS": "",
    "VSCODE_GIT_ASKPASS_MAIN": "/Volumes/Cursor Installer/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",
    "VSCODE_GIT_IPC_HANDLE": "/var/folders/r1/p23s81lx4cg1rh5r9mws8nxm0000gn/T/vscode-git-3fdb3997d1.sock",
    "PYDEVD_DISABLE_FILE_VALIDATION": "1",
    "VSCODE_DEBUGPY_ADAPTER_ENDPOINTS": "/Users/jaylenjohnson18/.cursor/extensions/ms-python.debugpy-2025.10.0-darwin-x64/.noConfigDebugAdapterEndpoints/endpoint-32709388607e8f0c.txt",
    "BUNDLED_DEBUGPY_PATH": "/Users/jaylenjohnson18/.cursor/extensions/ms-python.debugpy-2025.10.0-darwin-x64/bundled/libs/debugpy",
    "VSCODE_INJECTION": "1",
    "ZDOTDIR": "/Users/jaylenjohnson18",
    "USER_ZDOTDIR": "/Users/jaylenjohnson18",
    "TERM": "xterm-256color",
    "VSCODE_PROFILE_INITIALIZED": "1",
    "VIRTUAL_ENV": "/Users/jaylenjohnson18/lenzo.ai/venv",
    "PS1": "(venv) (base) %n@%m %1~ %# ",
    "VIRTUAL_ENV_PROMPT": "(venv) ",
    "_": "/Users/jaylenjohnson18/lenzo.ai/venv/bin/python"
  },
  "context": {
    "ticket": {
      "type": "enforce_api_key",
      "title": "Secure /api/v1/query with API key",
      "acceptance": [
        "Unauthenticated POST /api/v1/query returns 401 or 403",
        {
          "Authenticated request (Authorization": "Bearer <key>) returns 200/202 or 429"
        }
      ],
      "notes": [
        "Uses backend/auth/api_key.py verify_api_key",
        "Injects Depends(verify_api_key) into /api/v1/query handler"
      ]
    },
    "paths": {
      "main": "/Users/jaylenjohnson18/lenzo.ai/lenzo.ai/backend/main.py",
      "routes_v1": "/Users/jaylenjohnson18/lenzo.ai/lenzo.ai/backend/api/v1/routes.py",
      "auth_api_key": "/Users/jaylenjohnson18/lenzo.ai/lenzo.ai/backend/auth/api_key.py"
    },
    "apply_edits.enforce_api_key": {
      "route_imports_added": true,
      "signature_patched": true
    },
    "tests": {
      "status": "failed",
      "error": "Command failed (2): pytest -q\n"
    },
    "format": {
      "done": true
    },
    "smoke": {
      "unauth": {
        "error": "[Errno 61] Connection refused",
        "ok": false
      },
      "auth": {
        "error": "[Errno 61] Connection refused",
        "ok": false
      }
    }
  }
}